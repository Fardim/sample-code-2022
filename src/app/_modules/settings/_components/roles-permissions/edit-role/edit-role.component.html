<div class="root">
    <div class="f-row breadcrum-toolbar">
        <lib-button type="plain" icon="times" iconFontType="light" (click)="close()"></lib-button>
        <div class="col-spacer"></div>
        <div class="f-col mdo-constrained-right">
          <div class="f-row breadcrum-head">
            <lib-text-line type="leading">Edit role</lib-text-line>
            <div class="f-spacer"></div>
            <lib-button *ngIf="!roleUpdating" type="major" (click)="submitForm()" width="80px">Save</lib-button>
            <lib-spinner *ngIf="roleUpdating" type="minor" [size]="36"></lib-spinner>
          </div>
        </div>
    </div>

    <div class="f-col sidesheetcontent-listing">

        <form [formGroup]="roleForm">
            <div class="f-col mdo-justify">
                <div class="f-row-spacer-half"></div>
                <div *ngIf="roleDetailsFetching" class="f-col">
                    <lib-skeleton type="line"></lib-skeleton>
                    <lib-skeleton type="line"></lib-skeleton>
                </div>

                <div *ngIf="!roleDetailsFetching">
                    <div class="f-col">
                        <lib-input label="Role name" type="text" maxLength="40" placeholder="Enter role name (upto 40 chars)" [isRequired]="true" formControlName="roleName"
                        [hint]="(roleForm.controls.roleName.touched && roleForm.controls.roleName.errors && roleForm.controls.roleName.errors.required) ? 'This is a required field.' : ((roleForm.controls.roleName.touched && roleForm.controls.roleName.errors && roleForm.controls.roleName.errors.maxLength) ? 'Role name should be upto 40 characters.' : '')"
                        [hasError]="roleForm.controls.roleName.touched && roleForm.controls.roleName.errors && roleForm.controls.roleName.errors.required || (roleForm.controls.roleName.touched && roleForm.controls.roleName.errors && roleForm.controls.roleName.errors.maxLength)"></lib-input>
                    </div>
                    <div class="f-col">
                        <lib-input label="Details" placeholder="Enter role details" formControlName="details"></lib-input>
                    </div>

                    <div class="f-row-spacer-half"></div>
                    <pros-role-privilege *ngIf="roleData" [roleId]="roleId" [roleData]="roleData" (updatedPrivilege)="updatedPrivilege($event)"></pros-role-privilege>
                </div>
            </div>
        </form>

    </div>

</div>
